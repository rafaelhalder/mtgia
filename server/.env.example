# ========================================
# MTG Deck Builder - Environment Variables
# ========================================
# 
# Este arquivo serve como template para configuração.
# 1. Copie este arquivo: cp .env.example .env
# 2. Preencha os valores reais no arquivo .env
# 3. NUNCA commite o arquivo .env (já está no .gitignore)

# ========================================
# Database Configuration
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=mtgdb
DB_USER=postgres
DB_PASS=your_password_here

# Opcional: sobrescreve o SSL do Postgres (disable | require | verifyFull)
# Se não definido, o modo é derivado do ENVIRONMENT.
DB_SSL_MODE=
TELEMETRY_ADMIN_USER_IDS=
TELEMETRY_ADMIN_EMAILS=rafaelhalder@gmail.com
TELEMETRY_RETENTION_DAYS=180
# ========================================
# JWT Secret (OBRIGATÓRIO)
# ========================================
# Gere uma chave segura com:
#   openssl rand -base64 48
# 
# ⚠️ NUNCA use a mesma chave em dev e produção
# ⚠️ Se esta chave vazar, TODOS os tokens ficam comprometidos
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING

# ========================================
# OpenAI API (OPCIONAL)
# ========================================
# Necessário para funcionalidades de IA:
# - POST /ai/explain (explicação de cartas)
# - POST /ai/archetypes (sugestões de otimização)
# - POST /ai/generate (gerador de decks)
# 
# Se não configurado, endpoints retornam fallback simplificado.
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Perfil de execução da IA (opcional): dev | staging | prod
# Se omitido, o sistema deriva de ENVIRONMENT (development->dev, production->prod).
OPENAI_PROFILE=dev

# Modelos por endpoint (opcionais)
OPENAI_MODEL_GENERATE=gpt-4o-mini
OPENAI_MODEL_ARCHETYPES=gpt-4o-mini
OPENAI_MODEL_EXPLAIN=gpt-4o-mini
OPENAI_MODEL_RECOMMENDATIONS=gpt-4o-mini
OPENAI_MODEL_AI_ANALYSIS=gpt-4o-mini
OPENAI_MODEL_OPTIMIZE=gpt-4o
OPENAI_MODEL_COMPLETE=gpt-4o
OPENAI_MODEL_OPTIMIZATION_CRITIC=gpt-4o-mini

# Temperaturas por endpoint (0.0 - 1.0, opcionais)
OPENAI_TEMP_GENERATE=0.4
OPENAI_TEMP_ARCHETYPES=0.3
OPENAI_TEMP_EXPLAIN=0.5
OPENAI_TEMP_RECOMMENDATIONS=0.3
OPENAI_TEMP_AI_ANALYSIS=0.2
OPENAI_TEMP_OPTIMIZE=0.3
OPENAI_TEMP_COMPLETE=0.3
OPENAI_TEMP_OPTIMIZATION_CRITIC=0.2

# Presets recomendados por ambiente:
# - dev: custo menor e iteração rápida (predominantemente gpt-4o-mini)
# - staging: comportamento próximo de produção com custo controlado
# - prod: máxima qualidade em otimização/complete (gpt-4o), demais em gpt-4o-mini

# ========================================
# Environment Mode
# ========================================
# Valores aceitos: development | production
# 
# Afeta:
# - SSL do banco (obrigatório em production)
# - Logs (mais verboso em development)
ENVIRONMENT=development

# ========================================
# Telemetry Admin (AI Optimize)
# ========================================
# IDs de usuário com acesso ao escopo global de telemetria:
# GET /ai/optimize/telemetry?include_global=true
TELEMETRY_ADMIN_USER_IDS=

# E-mails com acesso ao escopo global de telemetria (case-insensitive):
TELEMETRY_ADMIN_EMAILS=

# Retenção (dias) para limpeza de dados antigos da telemetria de optimize.
TELEMETRY_RETENTION_DAYS=180
